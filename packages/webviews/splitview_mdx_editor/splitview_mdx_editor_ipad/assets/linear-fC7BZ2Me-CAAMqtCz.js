import{aN as R,aO as ut,aP as I,aQ as K,aR as ct}from"./main-BFkPyLBO.js";import{t as ft}from"./init-DjUOC4st-DHuO7-vr.js";function V(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function st(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function nt(t){let n,i,r;t.length!==2?(n=V,i=(u,f)=>V(t(u),f),r=(u,f)=>t(u)-f):(n=t===V||t===st?t:lt,i=t,r=t);function e(u,f,o=0,g=u.length){if(o<g){if(n(f,f)!==0)return g;do{const s=o+g>>>1;i(u[s],f)<0?o=s+1:g=s}while(o<g)}return o}function c(u,f,o=0,g=u.length){if(o<g){if(n(f,f)!==0)return g;do{const s=o+g>>>1;i(u[s],f)<=0?o=s+1:g=s}while(o<g)}return o}function a(u,f,o=0,g=u.length){const s=e(u,f,o,g-1);return s>o&&r(u[s-1],f)>-r(u[s],f)?s-1:s}return{left:e,center:a,right:c}}function lt(){return 0}function ht(t){return t===null?NaN:+t}const gt=nt(V),pt=gt.right;nt(ht).center;const vt=Math.sqrt(50),dt=Math.sqrt(10),Mt=Math.sqrt(2);function $(t,n,i){const r=(n-t)/Math.max(0,i),e=Math.floor(Math.log10(r)),c=r/Math.pow(10,e),a=c>=vt?10:c>=dt?5:c>=Mt?2:1;let u,f,o;return e<0?(o=Math.pow(10,-e)/a,u=Math.round(t*o),f=Math.round(n*o),u/o<t&&++u,f/o>n&&--f,o=-o):(o=Math.pow(10,e)*a,u=Math.round(t/o),f=Math.round(n/o),u*o<t&&++u,f*o>n&&--f),f<u&&.5<=i&&i<2?$(t,n,i*2):[u,f,o]}function mt(t,n,i){if(n=+n,t=+t,i=+i,!(i>0))return[];if(t===n)return[t];const r=n<t,[e,c,a]=r?$(n,t,i):$(t,n,i);if(!(c>=e))return[];const u=c-e+1,f=new Array(u);if(r)if(a<0)for(let o=0;o<u;++o)f[o]=(c-o)/-a;else for(let o=0;o<u;++o)f[o]=(c-o)*a;else if(a<0)for(let o=0;o<u;++o)f[o]=(e+o)/-a;else for(let o=0;o<u;++o)f[o]=(e+o)*a;return f}function T(t,n,i){return n=+n,t=+t,i=+i,$(t,n,i)[2]}function yt(t,n,i){n=+n,t=+t,i=+i;const r=n<t,e=r?T(n,t,i):T(t,n,i);return(r?-1:1)*(e<0?1/-e:e)}function bt(t,n){n||(n=[]);var i=t?Math.min(n.length,t.length):0,r=n.slice(),e;return function(c){for(e=0;e<i;++e)r[e]=t[e]*(1-c)+n[e]*c;return r}}function wt(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Nt(t,n){var i=n?n.length:0,r=t?Math.min(i,t.length):0,e=new Array(r),c=new Array(i),a;for(a=0;a<r;++a)e[a]=X(t[a],n[a]);for(;a<i;++a)c[a]=n[a];return function(u){for(a=0;a<r;++a)c[a]=e[a](u);return c}}function xt(t,n){var i=new Date;return t=+t,n=+n,function(r){return i.setTime(t*(1-r)+n*r),i}}function kt(t,n){var i={},r={},e;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(e in n)e in t?i[e]=X(t[e],n[e]):r[e]=n[e];return function(c){for(e in i)r[e]=i[e](c);return r}}function X(t,n){var i=typeof n,r;return n==null||i==="boolean"?ut(n):(i==="number"?R:i==="string"?(r=I(n))?(n=r,K):ct:n instanceof I?K:n instanceof Date?xt:wt(n)?bt:Array.isArray(n)?Nt:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?kt:R)(t,n)}function At(t,n){return t=+t,n=+n,function(i){return Math.round(t*(1-i)+n*i)}}function St(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function j(t,n){if(!isFinite(t)||t===0)return null;var i=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"),r=t.slice(0,i);return[r.length>1?r[0]+r.slice(2):r,+t.slice(i+1)]}function x(t){return t=j(Math.abs(t)),t?t[1]:NaN}function zt(t,n){return function(i,r){for(var e=i.length,c=[],a=0,u=t[0],f=0;e>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),c.push(i.substring(e-=u,e+u)),!((f+=u+1)>r));)u=t[a=(a+1)%t.length];return c.reverse().join(n)}}function Pt(t){return function(n){return n.replace(/[0-9]/g,function(i){return t[+i]})}}var Et=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function q(t){if(!(n=Et.exec(t)))throw new Error("invalid format: "+t);var n;return new B({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}q.prototype=B.prototype;function B(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}B.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ft(t){t:for(var n=t.length,i=1,r=-1,e;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":r===0&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(e+1):t}var C;function Vt(t,n){var i=j(t,n);if(!i)return C=void 0,t.toPrecision(n);var r=i[0],e=i[1],c=e-(C=Math.max(-8,Math.min(8,Math.floor(e/3)))*3)+1,a=r.length;return c===a?r:c>a?r+new Array(c-a+1).join("0"):c>0?r.slice(0,c)+"."+r.slice(c):"0."+new Array(1-c).join("0")+j(t,Math.max(0,n+c-1))[0]}function Q(t,n){var i=j(t,n);if(!i)return t+"";var r=i[0],e=i[1];return e<0?"0."+new Array(-e).join("0")+r:r.length>e+1?r.slice(0,e+1)+"."+r.slice(e+1):r+new Array(e-r.length+2).join("0")}const Z={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:St,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Q(t*100,n),r:Q,s:Vt,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function J(t){return t}var W=Array.prototype.map,_=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function $t(t){var n=t.grouping===void 0||t.thousands===void 0?J:zt(W.call(t.grouping,Number),t.thousands+""),i=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",e=t.decimal===void 0?".":t.decimal+"",c=t.numerals===void 0?J:Pt(W.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function o(s,h){s=q(s);var m=s.fill,k=s.align,d=s.sign,A=s.symbol,S=s.zero,D=s.width,O=s.comma,y=s.precision,G=s.trim,p=s.type;p==="n"?(O=!0,p="g"):Z[p]||(y===void 0&&(y=12),G=!0,p="g"),(S||m==="0"&&k==="=")&&(S=!0,m="0",k="=");var et=(h&&h.prefix!==void 0?h.prefix:"")+(A==="$"?i:A==="#"&&/[boxX]/.test(p)?"0"+p.toLowerCase():""),ot=(A==="$"?r:/[%p]/.test(p)?a:"")+(h&&h.suffix!==void 0?h.suffix:""),L=Z[p],at=/[defgprs%]/.test(p);y=y===void 0?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function Y(l){var b=et,v=ot,w,H,z;if(p==="c")v=L(l)+v,l="";else{l=+l;var P=l<0||1/l<0;if(l=isNaN(l)?f:L(Math.abs(l),y),G&&(l=Ft(l)),P&&+l==0&&d!=="+"&&(P=!1),b=(P?d==="("?d:u:d==="-"||d==="("?"":d)+b,v=(p==="s"&&!isNaN(l)&&C!==void 0?_[8+C/3]:"")+v+(P&&d==="("?")":""),at){for(w=-1,H=l.length;++w<H;)if(z=l.charCodeAt(w),48>z||z>57){v=(z===46?e+l.slice(w+1):l.slice(w))+v,l=l.slice(0,w);break}}}O&&!S&&(l=n(l,1/0));var E=b.length+l.length+v.length,M=E<D?new Array(D-E+1).join(m):"";switch(O&&S&&(l=n(M+l,M.length?D-v.length:1/0),M=""),k){case"<":l=b+l+v+M;break;case"=":l=b+M+l+v;break;case"^":l=M.slice(0,E=M.length>>1)+b+l+v+M.slice(E);break;default:l=M+b+l+v;break}return c(l)}return Y.toString=function(){return s+""},Y}function g(s,h){var m=Math.max(-8,Math.min(8,Math.floor(x(h)/3)))*3,k=Math.pow(10,-m),d=o((s=q(s),s.type="f",s),{suffix:_[8+m/3]});return function(A){return d(k*A)}}return{format:o,formatPrefix:g}}var F,rt,it;jt({thousands:",",grouping:[3],currency:["$",""]});function jt(t){return F=$t(t),rt=F.format,it=F.formatPrefix,F}function qt(t){return Math.max(0,-x(Math.abs(t)))}function Ct(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(x(n)/3)))*3-x(Math.abs(t)))}function Dt(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,x(n)-x(t))+1}function Ot(t){return function(){return t}}function Rt(t){return+t}var tt=[0,1];function N(t){return t}function U(t,n){return(n-=t=+t)?function(i){return(i-t)/n}:Ot(isNaN(n)?NaN:.5)}function Tt(t,n){var i;return t>n&&(i=t,t=n,n=i),function(r){return Math.max(t,Math.min(n,r))}}function Ut(t,n,i){var r=t[0],e=t[1],c=n[0],a=n[1];return e<r?(r=U(e,r),c=i(a,c)):(r=U(r,e),c=i(c,a)),function(u){return c(r(u))}}function Xt(t,n,i){var r=Math.min(t.length,n.length)-1,e=new Array(r),c=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)e[a]=U(t[a],t[a+1]),c[a]=i(n[a],n[a+1]);return function(u){var f=pt(t,u,1,r)-1;return c[f](e[f](u))}}function Bt(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gt(){var t=tt,n=tt,i=X,r,e,c,a=N,u,f,o;function g(){var h=Math.min(t.length,n.length);return a!==N&&(a=Tt(t[0],t[h-1])),u=h>2?Xt:Ut,f=o=null,s}function s(h){return h==null||isNaN(h=+h)?c:(f||(f=u(t.map(r),n,i)))(r(a(h)))}return s.invert=function(h){return a(e((o||(o=u(n,t.map(r),R)))(h)))},s.domain=function(h){return arguments.length?(t=Array.from(h,Rt),g()):t.slice()},s.range=function(h){return arguments.length?(n=Array.from(h),g()):n.slice()},s.rangeRound=function(h){return n=Array.from(h),i=At,g()},s.clamp=function(h){return arguments.length?(a=h?!0:N,g()):a!==N},s.interpolate=function(h){return arguments.length?(i=h,g()):i},s.unknown=function(h){return arguments.length?(c=h,s):c},function(h,m){return r=h,e=m,g()}}function Lt(){return Gt()(N,N)}function Yt(t,n,i,r){var e=yt(t,n,i),c;switch(r=q(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(c=Ct(e,a))&&(r.precision=c),it(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(c=Dt(e,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=c-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(c=qt(e))&&(r.precision=c-(r.type==="%")*2);break}}return rt(r)}function Ht(t){var n=t.domain;return t.ticks=function(i){var r=n();return mt(r[0],r[r.length-1],i??10)},t.tickFormat=function(i,r){var e=n();return Yt(e[0],e[e.length-1],i??10,r)},t.nice=function(i){i==null&&(i=10);var r=n(),e=0,c=r.length-1,a=r[e],u=r[c],f,o,g=10;for(u<a&&(o=a,a=u,u=o,o=e,e=c,c=o);g-- >0;){if(o=T(a,u,i),o===f)return r[e]=a,r[c]=u,n(r);if(o>0)a=Math.floor(a/o)*o,u=Math.ceil(u/o)*o;else if(o<0)a=Math.ceil(a*o)/o,u=Math.floor(u*o)/o;else break;f=o}return t},t}function It(){var t=Lt();return t.copy=function(){return Bt(t,It())},ft.apply(t,arguments),Ht(t)}export{It as H,yt as N,Lt as U,Bt as V,nt as r};
