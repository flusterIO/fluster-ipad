function l(t){return{type:t,style:"keyword"}}var _=l("keyword a"),z=l("keyword b"),k=l("keyword c"),M=l("operator"),T={type:"atom",style:"atom"},w={type:"attribute",style:"attribute"},f=l("typedef"),I={if:_,while:_,else:z,do:z,try:z,return:k,break:k,continue:k,new:k,throw:k,var:l("var"),inline:w,static:w,using:l("import"),public:w,private:w,cast:l("cast"),import:l("import"),macro:l("macro"),function:l("function"),catch:l("catch"),untyped:l("untyped"),callback:l("cb"),for:l("for"),switch:l("switch"),case:l("case"),default:l("default"),in:M,never:l("property_access"),trace:l("trace"),class:f,abstract:f,enum:f,interface:f,typedef:f,extends:f,implements:f,dynamic:f,true:T,false:T,null:T},E=/[+\-*&%=<>!?|]/;function N(t,e,r){return e.tokenize=r,r(t,e)}function B(t,e){for(var r=!1,a;(a=t.next())!=null;){if(a==e&&!r)return!0;r=!r&&a=="\\"}}var f,F;function d(t,e,r){return f=t,F=r,e}function A(t,e){var r=t.next();if(r=='"'||r=="'")return N(t,e,Q(r));if(/[\[\]{}\(\),;\:\.]/.test(r))return d(r);if(r=="0"&&t.eat(/x/i))return t.eatWhile(/[\da-f]/i),d("number","number");if(/\d/.test(r)||r=="-"&&t.eat(/\d/))return t.match(/^\d*(?:\.\d*(?!\.))?(?:[eE][+\-]?\d+)?/),d("number","number");if(e.reAllowed&&r=="~"&&t.eat(/\//))return B(t,"/"),t.eatWhile(/[gimsu]/),d("regexp","string.special");if(r=="/")return t.eat("*")?N(t,e,R):t.eat("/")?(t.skipToEnd(),d("comment","comment")):(t.eatWhile(E),d("operator",null,t.current()));if(r=="#")return t.skipToEnd(),d("conditional","meta");if(r=="@")return t.eat(/:/),t.eatWhile(/[\w_]/),d("metadata","meta");if(E.test(r))return t.eatWhile(E),d("operator",null,t.current());var a;if(/[A-Z]/.test(r))return t.eatWhile(/[\w_<>]/),a=t.current(),d("type","type",a);t.eatWhile(/[\w_]/);var a=t.current(),i=I.propertyIsEnumerable(a)&&I[a];return i&&e.kwAllowed?d(i.type,i.style,a):d("variable","variable",a)}function Q(t){return function(e,r){return B(e,t)&&(r.tokenize=A),d("string","string")}}function R(t,e){for(var r=!1,a;a=t.next();){if(a=="/"&&r){e.tokenize=A;break}r=a=="*"}return d("comment","comment")}var j={atom:!0,number:!0,variable:!0,string:!0,regexp:!0};function q(t,e,r,a,i,s){this.indented=t,this.column=e,this.type=r,this.prev=i,this.info=s,a!=null&&(this.align=a)}function U(t,e){for(var r=t.localVars;r;r=r.next)if(r.name==e)return!0}function X(t,e,r,a,i){var s=t.cc;for(u.state=t,u.stream=i,u.marked=null,u.cc=s,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){var x=s.length?s.pop():v;if(x(r,a)){for(;s.length&&s[s.length-1].lex;)s.pop()();return u.marked?u.marked:r=="variable"&&U(t,a)?"variableName.local":r=="variable"&&Y(t,a)?"variableName.special":e}}}function Y(t,e){if(/[a-z]/.test(e.charAt(0)))return!1;for(var r=t.importedtypes.length,a=0;a<r;a++)if(t.importedtypes[a]==e)return!0}function C(t){for(var e=u.state,r=e.importedtypes;r;r=r.next)if(r.name==t)return;e.importedtypes={name:t,next:e.importedtypes}}var u={state:null,marked:null,cc:null};function b(){for(var t=arguments.length-1;t>=0;t--)u.cc.push(arguments[t])}function n(){return b.apply(null,arguments),!0}function $(t,e){for(var r=e;r;r=r.next)if(r.name==t)return!0;return!1}function S(t){var e=u.state;if(e.context){if(u.marked="def",$(t,e.localVars))return;e.localVars={name:t,next:e.localVars}}else if(e.globalVars){if($(t,e.globalVars))return;e.globalVars={name:t,next:e.globalVars}}}var tt={name:"this",next:null};function O(){u.state.context||(u.state.localVars=tt),u.state.context={prev:u.state.context,vars:u.state.localVars}}function V(){u.state.localVars=u.state.context.vars,u.state.context=u.state.context.prev}V.lex=!0;function c(t,e){var r=function(){var a=u.state;a.lexical=new q(a.indented,u.stream.column(),t,null,a.lexical,e)};return r.lex=!0,r}function o(){var t=u.state;t.lexical.prev&&(t.lexical.type==")"&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}o.lex=!0;function p(t){function e(r){return r==t?n():t==";"?b():n(e)}return e}function v(t){return t=="@"?n(H):t=="var"?n(c("vardef"),P,p(";"),o):t=="keyword a"?n(c("form"),m,v,o):t=="keyword b"?n(c("form"),v,o):t=="{"?n(c("}"),O,Z,o,V):t==";"?n():t=="attribute"?n(G):t=="function"?n(g):t=="for"?n(c("form"),p("("),c(")"),ut,p(")"),o,v,o):t=="variable"?n(c("stat"),nt):t=="switch"?n(c("form"),m,c("}","switch"),p("{"),Z,o,o):t=="case"?n(m,p(":")):t=="default"?n(p(":")):t=="catch"?n(c("form"),O,p("("),L,p(")"),v,o,V):t=="import"?n(J,p(";")):t=="typedef"?n(rt):b(c("stat"),m,p(";"),o)}function m(t){return j.hasOwnProperty(t)||t=="type"?n(y):t=="function"?n(g):t=="keyword c"?n(D):t=="("?n(c(")"),D,p(")"),o,y):t=="operator"?n(m):t=="["?n(c("]"),h(D,"]"),o,y):t=="{"?n(c("}"),h(it,"}"),o,y):n()}function D(t){return t.match(/[;\}\)\],]/)?b():b(m)}function y(t,e){if(t=="operator"&&/\+\+|--/.test(e))return n(y);if(t=="operator"||t==":")return n(m);if(t!=";"){if(t=="(")return n(c(")"),h(m,")"),o,y);if(t==".")return n(at,y);if(t=="[")return n(c("]"),m,p("]"),o,y)}}function G(t){if(t=="attribute")return n(G);if(t=="function")return n(g);if(t=="var")return n(P)}function H(t){if(t==":"||t=="variable")return n(H);if(t=="(")return n(c(")"),h(et,")"),o,v)}function et(t){if(t=="variable")return n()}function J(t,e){if(t=="variable"&&/[A-Z]/.test(e.charAt(0)))return C(e),n();if(t=="variable"||t=="property"||t=="."||e=="*")return n(J)}function rt(t,e){if(t=="variable"&&/[A-Z]/.test(e.charAt(0)))return C(e),n();if(t=="type"&&/[A-Z]/.test(e.charAt(0)))return n()}function nt(t){return t==":"?n(o,v):b(y,p(";"),o)}function at(t){if(t=="variable")return u.marked="property",n()}function it(t){if(t=="variable"&&(u.marked="property"),j.hasOwnProperty(t))return n(p(":"),m)}function h(t,e){function r(a){return a==","?n(t,r):a==e?n():n(p(e))}return function(a){return a==e?n():b(t,r)}}function Z(t){return t=="}"?n():b(v,Z)}function P(t,e){return t=="variable"?(S(e),n(W,K)):n()}function K(t,e){if(e=="=")return n(m,K);if(t==",")return n(P)}function ut(t,e){return t=="variable"?(S(e),n(ot,m)):b()}function ot(t,e){if(e=="in")return n()}function g(t,e){if(t=="variable"||t=="type")return S(e),n(g);if(e=="new")return n(g);if(t=="(")return n(c(")"),O,h(L,")"),o,W,v,V)}function W(t){if(t==":")return n(lt)}function lt(t){if(t=="type"||t=="variable")return n();if(t=="{")return n(c("}"),h(ct,"}"),o)}function ct(t){if(t=="variable")return n(W)}function L(t,e){if(t=="variable")return S(e),n(W)}const ft={name:"haxe",startState:function(t){var e=["Int","Float","String","Void","Std","Bool","Dynamic","Array"],r={tokenize:A,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new q(-t,0,"block",!1),importedtypes:e,context:null,indented:0};return r},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation()),t.eatSpace())return null;var r=e.tokenize(t,e);return f=="comment"?r:(e.reAllowed=!!(f=="operator"||f=="keyword c"||f.match(/^[\[{}\(,;:]$/)),e.kwAllowed=f!=".",X(e,r,f,F,t))},indent:function(t,e,r){if(t.tokenize!=A)return 0;var a=e&&e.charAt(0),i=t.lexical;i.type=="stat"&&a=="}"&&(i=i.prev);var s=i.type,x=a==s;return s=="vardef"?i.indented+4:s=="form"&&a=="{"?i.indented:s=="stat"||s=="form"?i.indented+r.unit:i.info=="switch"&&!x?i.indented+(/^(?:case|default)\b/.test(e)?r.unit:2*r.unit):i.align?i.column+(x?0:1):i.indented+(x?0:r.unit)},languageData:{indentOnInput:/^\s*[{}]$/,commentTokens:{line:"//",block:{open:"/*",close:"*/"}}}},st={name:"hxml",startState:function(){return{define:!1,inString:!1}},token:function(t,e){var i=t.peek(),r=t.sol();if(i=="#")return t.skipToEnd(),"comment";if(r&&i=="-"){var a="variable-2";return t.eat(/-/),t.peek()=="-"&&(t.eat(/-/),a="keyword a"),t.peek()=="D"&&(t.eat(/[D]/),a="keyword c",e.define=!0),t.eatWhile(/[A-Z]/i),a}var i=t.peek();return e.inString==!1&&i=="'"&&(e.inString=!0,t.next()),e.inString==!0?(t.skipTo("'")||t.skipToEnd(),t.peek()=="'"&&(t.next(),e.inString=!1),"string"):(t.next(),null)},languageData:{commentTokens:{line:"#"}}};export{ft as haxe,st as hxml};
