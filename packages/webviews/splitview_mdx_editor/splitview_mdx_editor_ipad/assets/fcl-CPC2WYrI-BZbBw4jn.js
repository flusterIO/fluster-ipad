var s={term:!0,method:!0,accu:!0,rule:!0,then:!0,is:!0,and:!0,or:!0,if:!0,default:!0},c={var_input:!0,var_output:!0,fuzzify:!0,defuzzify:!0,function_block:!0,ruleblock:!0},o={end_ruleblock:!0,end_defuzzify:!0,end_function_block:!0,end_fuzzify:!0,end_var:!0},d={true:!0,false:!0,nan:!0,real:!0,min:!0,max:!0,cog:!0,cogs:!0},i=/[+\-*&^%:=<>!|\/]/;function a(t,e){var r=t.next();if(/[\d\.]/.test(r))return r=="."?t.match(/^[0-9]+([eE][\-+]?[0-9]+)?/):r=="0"?t.match(/^[xX][0-9a-fA-F]+/)||t.match(/^0[0-7]+/):t.match(/^[0-9]*\.?[0-9]*([eE][\-+]?[0-9]+)?/),"number";if(r=="/"||r=="("){if(t.eat("*"))return e.tokenize=l,l(t,e);if(t.eat("/"))return t.skipToEnd(),"comment"}if(i.test(r))return t.eatWhile(i),"operator";t.eatWhile(/[\w\$_\xa1-\uffff]/);var n=t.current().toLowerCase();return s.propertyIsEnumerable(n)||c.propertyIsEnumerable(n)||o.propertyIsEnumerable(n)?"keyword":d.propertyIsEnumerable(n)?"atom":"variable"}function l(t,e){for(var r=!1,n;n=t.next();){if((n=="/"||n==")")&&r){e.tokenize=a;break}r=n=="*"}return"comment"}function f(t,e,r,n,u){this.indented=t,this.column=e,this.type=r,this.align=n,this.prev=u}function m(t,e,r){return t.context=new f(t.indented,e,r,null,t.context)}function p(t){if(t.context.prev){var e=t.context.type;return e=="end_block"&&(t.indented=t.context.indented),t.context=t.context.prev}}const k={name:"fcl",startState:function(t){return{tokenize:null,context:new f(-t,0,"top",!1),indented:0,startOfLine:!0}},token:function(t,e){var r=e.context;if(t.sol()&&(r.align==null&&(r.align=!1),e.indented=t.indentation(),e.startOfLine=!0),t.eatSpace())return null;var n=(e.tokenize||a)(t,e);if(n=="comment")return n;r.align==null&&(r.align=!0);var u=t.current().toLowerCase();return c.propertyIsEnumerable(u)?m(e,t.column(),"end_block"):o.propertyIsEnumerable(u)&&p(e),e.startOfLine=!1,n},indent:function(t,e,r){if(t.tokenize!=a&&t.tokenize!=null)return 0;var n=t.context,u=o.propertyIsEnumerable(e);return n.align?n.column+(u?0:1):n.indented+(u?0:r.unit)},languageData:{commentTokens:{line:"//",block:{open:"(*",close:"*)"}}}};export{k as fcl};
